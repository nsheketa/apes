<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Home</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<style>
#buffer {
                display: none;
            }

            #output, #buffer{
                width: 100%;
            }

</style>
    <!--<link rel="shortcut icon" href="img/tab.ico">-->
    <!-- Place favicon.ico in the root directory -->

    <link rel="stylesheet" href="css/main.css">
</head>

<body>
<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<div class="is-mobile"></div>

<main id="main" class="page-transition__wrapper main-scene">
        <div class="page-content__wrap landing-page scene__element scene__element--fadein">
            <div class="page-content landing-page">
                <div class="landing__frame">
                    <span class="landing__frame-top-left"></span>
                    <span class="landing__frame-top-right"></span>
                    <span class="landing__frame-bottom-right landing__frame-bottom-side"></span>
                    <span class="landing__frame-bottom"></span>
                    <span class="landing__frame-bottom-left landing__frame-bottom-side"></span>
                </div>

                <nav class="page-nav landing-page">
                    <ul class="page-nav__list">
                        <li class="page-nav__list-item">
                            <a href="index.html" class="page-nav__list-link page-nav__logo">
                                <img src="img/logo.svg" alt="Apes">
                            </a>
                        </li>
                        <li class="page-nav__list-item">
                            <a href="work.html" class="page-nav__list-link">Work</a>
                        </li>
                        <li class="page-nav__list-item">
                            <a href="#" class="page-nav__list-link">Clients</a>
                        </li>
                        <li class="page-nav__list-item">
                            <a href="#" class="page-nav__list-link">Services</a>
                        </li>
                        <li class="page-nav__list-item">
                            <a href="#" class="page-nav__list-link">About</a>
                        </li>
                        <li class="page-nav__list-item">
                            <a href="#" class="page-nav__list-link">Contact</a>
                        </li>
                    </ul>
                </nav>

                <div class="header landing-page">
                    <a href="index.html" class="page__logo ">
                        <img src="img/logo.svg" alt="Logo">
                    </a>
                    <span class="header__separator"></span>
                    <div class="hamburger">
                        <span class="line"></span>
                        <span class="line"></span>
                        <span class="line"></span>
                    </div>
                </div>

                <div class="landing__animation-wrap">

   
        <div>
            <video id="video" style="display:none" autoplay>
                <source src="http://reactdigi.com/nata/apes/video/landing.mp4" type='video/mp4; codecs="avc1.42E01E"' />
            </video>
            <canvas  id="buffer"></canvas>
            <canvas id="output"></canvas>
        </div>
<!--     
                    <video id="movingAlphaDemo" style="display: none;" poster="img/landing/poster.png" 
                           playsinline="playsinline" loop="loop"
                           muted="muted" autoplay="autoplay" preload="auto" width="1660"
                           height="auto">
                        <source src="video/landing.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>-->
                </div>

                <div class="landing__production">
                    <span class="landing__production-line--left landing__production-line"></span>
                    <div class="landing__production-text">
                        <img src="img/landing/production.svg" alt="Production">
                        <button class="landing__production-play no-smoothState">
                            <img src="img/landing/play.svg" alt="Play icon">
                        </button>
                        <div class="landing__production-showreel">
                            <span>Play</span>
                            <span>Our Showreel</span>
                        </div>
                    </div>
                    <span class="landing__production-line--right landing__production-line"></span>
                </div>
                <div class="landing__heading">
                    <h2>Simple <span class="landing__heading--sm">Yet</span> <span class="landing__heading-line"></span>
                        <span class="landing__heading-row">Ingenious</span>
                    </h2>
                </div>

                <nav class="page-socials landing-page">
                    <ul class="page-socials__list">
                        <li class="page-socials__list-item is-active">
                            Talk to Us
                        </li>
                        <li class="page-socials__list-item">
                            <a href="http://www.facebook.com" class="page-socials__list-link" target="_blank">
                                <?xml version="1.0" encoding="UTF-8"?>
                                <svg enable-background="new 0 0 9 19.5" version="1.1" viewBox="0 0 9 19.5" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                                 <path d="m2 19.5h4v-9.8h2.7l0.3-3.3h-3v-1.9c0-0.8 0.2-1.1 0.9-1.1h2.1v-3.4h-2.7c-2.9 0-4.3 1.3-4.3 3.8v2.6h-2v3.3h2v9.8z"/>
                            </svg>
                            </a>
                        </li>
                        <li class="page-socials__list-item">
                            <a href="#" class="page-socials__list-link" target="_blank">
                                <?xml version="1.0" encoding="UTF-8"?>
                                <svg enable-background="new 0 0 17.7 17.7" version="1.1" viewBox="0 0 17.7 17.7" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                                <path d="m8.9 1.6c2.4 0 2.6 0 3.6 0.1 0.9 0 1.3 0.2 1.6 0.3 0.4 0.2 0.7 0.4 1 0.7s0.5 0.6 0.7 1c0.1 0.3 0.3 0.8 0.3 1.6 0 0.9 0.1 1.2 0.1 3.6s0 2.6-0.1 3.6c0 0.9-0.2 1.3-0.3 1.6-0.2 0.4-0.4 0.7-0.7 1s-0.6 0.5-1 0.7c-0.3 0.1-0.8 0.3-1.6 0.3-0.9 0-1.2 0.1-3.6 0.1s-2.6 0-3.6-0.1c-0.9 0-1.3-0.2-1.6-0.3-0.4-0.2-0.7-0.4-1-0.7s-0.5-0.6-0.7-1c-0.1-0.3-0.3-0.8-0.3-1.6 0-0.9-0.1-1.2-0.1-3.6s0-2.6 0.1-3.6c0-0.9 0.2-1.3 0.3-1.6 0.2-0.4 0.4-0.7 0.7-1s0.6-0.5 1-0.7c0.3-0.1 0.8-0.3 1.6-0.3 0.9-0.1 1.2-0.1 3.6-0.1m0-1.6c-2.4 0-2.7 0-3.7 0.1-0.9 0-1.6 0.2-2.2 0.4-0.5 0.2-1 0.5-1.5 1s-0.8 1-1 1.6c-0.3 0.5-0.4 1.2-0.4 2.1-0.1 1-0.1 1.3-0.1 3.7s0 2.7 0.1 3.7c0 0.9 0.2 1.6 0.4 2.2s0.5 1.1 1 1.6 1 0.8 1.6 1 1.2 0.4 2.2 0.4c0.9 0 1.2 0.1 3.7 0.1 2.4 0 2.7 0 3.7-0.1 0.9 0 1.6-0.2 2.2-0.4s1.1-0.5 1.6-1 0.8-1 1-1.6 0.4-1.2 0.4-2.2c0-0.9 0.1-1.2 0.1-3.7 0-2.4 0-2.7-0.1-3.7 0-0.9-0.2-1.6-0.4-2.2s-0.5-1.1-1-1.6-1-0.8-1.6-1-1.2-0.4-2.2-0.4h-3.8"/>
                                <path d="m8.9 4.3c-2.5 0-4.6 2-4.6 4.6 0 2.5 2 4.6 4.6 4.6 2.5 0 4.6-2 4.6-4.6-0.1-2.5-2.1-4.6-4.6-4.6m0 7.5c-1.6 0-3-1.3-3-3 0-1.6 1.3-3 3-3s3 1.3 3 3c-0.1 1.7-1.4 3-3 3"/>
                                <path d="m14.7 4.1c0 0.6-0.5 1.1-1.1 1.1s-1.1-0.5-1.1-1.1 0.5-1.1 1.1-1.1c0.6 0.1 1.1 0.5 1.1 1.1"/>
                            </svg>
                            </a>
                        </li>
                        <li class="page-socials__list-item">
                            <a href="#" class="page-socials__list-link" target="_blank">
                                <?xml version="1.0" encoding="UTF-8"?>
                                <svg enable-background="new 0 0 21 18.3" version="1.1" viewBox="0 0 21 18.3" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                                 <path d="m17.9 0c-2.9-0.1-4.9 1.6-5.9 5 0.5-0.2 1.1-0.4 1.6-0.4 1.1 0 1.6 0.6 1.4 1.8-0.1 0.7-0.5 1.8-1.4 3.2s-1.5 2.1-2 2.1c-0.6 0-1.1-1.1-1.6-3.2-0.1-0.6-0.4-2.2-0.8-4.8-0.4-2.4-1.4-3.5-3.1-3.3-0.7 0.1-1.7 0.7-3.1 2l-3 2.7 1 1.3c0.9-0.7 1.5-1 1.6-1 0.7 0 1.4 1.1 2.1 3.4 0.6 2.1 1.2 4.1 1.8 6.2 0.9 2.3 1.9 3.4 3.2 3.4 2 0 4.4-1.9 7.2-5.7 2.7-3.7 4.1-6.5 4.1-8.5 0.1-2.8-0.9-4.2-3.1-4.2z"/>
                            </svg>
                            </a>
                        </li>
                        <li class="page-socials__list-item">
                            <a href="#" class="page-socials__list-link" target="_blank">
                                <?xml version="1.0" encoding="UTF-8"?>
                                <svg enable-background="new 0 0 19.9 19.9" version="1.1" viewBox="0 0 19.9 19.9" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                                <path d="m10 0c-5.5 0-10 4.5-10 10 0 1.9 0.5 3.8 1.6 5.4l-1.5 3.3c-0.2 0.3-0.1 0.7 0.1 0.9s0.4 0.3 0.7 0.3h0.2l4.2-1.1c1.4 0.8 3.1 1.2 4.7 1.2 5.5 0 10-4.5 10-10-0.1-5.5-4.5-10-10-10zm0 18.2c-1.5 0-2.9-0.4-4.1-1.1-0.2-0.1-0.4-0.1-0.5-0.1h-0.2l-2.7 0.7 0.9-2.1c0.1-0.3 0.1-0.6-0.1-0.9-1-1.4-1.6-3.1-1.6-4.8 0-4.5 3.7-8.2 8.2-8.2s8.2 3.7 8.2 8.2c0.1 4.6-3.6 8.3-8.1 8.3z" clip-rule="evenodd" fill-rule="evenodd"/>
                                <path d="m13.8 11.5c-0.4-0.2-1-0.5-1.5-0.3-0.4 0.2-0.6 0.7-0.9 1-0.1 0.2-0.3 0.2-0.5 0.1-1.4-0.6-2.5-1.5-3.3-2.8 0-0.2 0-0.4 0.2-0.6 0.2-0.3 0.5-0.6 0.6-1s-0.1-0.8-0.3-1.1c-0.2-0.4-0.4-1-0.8-1.3-0.4-0.2-0.9-0.1-1.3 0.2-0.6 0.5-0.9 1.3-0.9 2 0 0.2 0 0.4 0.1 0.6 0.1 0.5 0.4 1 0.6 1.4 0.2 0.3 0.4 0.7 0.6 1 0.8 1 1.7 1.9 2.8 2.6 0.5 0.3 1.1 0.6 1.7 0.8 0.7 0.2 1.3 0.5 2 0.3 0.8-0.1 1.5-0.6 1.8-1.4 0.1-0.2 0.1-0.5 0.1-0.7 0-0.3-0.6-0.6-1-0.8z" clip-rule="evenodd" fill-rule="evenodd"/>
                            </svg>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>

    <div id="overlay"></div>
    <div class="showreel__modal-wrap">
        <button class="modal__close">
            <?xml version="1.0" encoding="UTF-8"?>
            <svg enable-background="new 0 0 37 37" version="1.1" viewBox="0 0 37 37" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                <polygon points="36 1 1 1 1 36 13.7 36 26.9 36 36 36" stroke-width="2"/>
                <polygon points="36 1 1 1 1 36 14.5 36 36 36" stroke-width="2"/>
                <g class="plus" stroke-miterlimit="10" stroke-width="3">
                    <line x1="7.7" x2="30.8" y1="7.9" y2="29.4"/>
                    <line x1="29.5" x2="7.7" y1="8.2" y2="30"/>
                </g>
            </svg>
        </button>
        <div class="showreel__modal">
            <div class="showreel__modal-inner">
                <video poster="img/landing/modal-poster.jpg" preload="auto" width="1660"
                       height="auto" controls>
                    <source src="video/landing.mp4" type="video/webm">
                    <source src="video/landing.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>

</main>


<script src="js/vendor/modernizr-3.5.0.min.js"></script>
<script src="js/vendor/jquery-3.2.1.min.js"></script>
<script src="js/vendor/bootstrap.bundle.min.js"></script>
<script src="js/plugins.js"></script>
<script src="js/vendor/TweenMax.min.js"></script>
<script src="js/vendor/ScrollMagic.min.js"></script>
<script src="js/vendor/seeThru.min.js"></script>
<script src="js/vendor/jquery.smoothState.min.js"></script>
    <script type="text/javascript" src="https://code.createjs.com/1.0.0/easeljs.min.js"></script>
<script src="js/main.js"></script>




      <script>
        // seeThru.create('#movingAlphaDemo', {
        //   width: $(window).width()-100,
        //   height: $(window).height()-400
        // });
      </script>


        <script>

var stage = new createjs.Stage("output");


        (function(){
            $("#buffer").attr("width", ($(window).width()));
            $("#output").attr("width", (($(window).width())/2));
    $("#buffer").attr("height",($(window).height()-10));
    $("#output").attr("height",($(window).height()-10)/2);
    $(window).on("resize", function(){                      
        $("#buffer").attr("height",($(window).height()-10));
        $("#output").attr("height", ($(window).height()-10)/2);
            $("#buffer").attr("width", ($(window).width()));
            $("#output").attr("width", (($(window).width())/2));
console.log($(window).width()-300);
            processFrame();
            stage.update();
    });


            var outputCanvas = document.getElementById('output'),
                output = outputCanvas.getContext('2d'),
                bufferCanvas = document.getElementById('buffer'),
                buffer = bufferCanvas.getContext('2d'),
                video = document.getElementById('video'),
                width = outputCanvas.width,
                height = outputCanvas.height,
                interval;
                
            function processFrame() {
                buffer.drawImage(video, 0, 0);
                
                // this can be done without alphaData, except in Firefox which doesn't like it when image is bigger than the canvas
                var image = buffer.getImageData(0, 0, width, height),
                    imageData = image.data,
                    alphaData = buffer.getImageData(0, height, width, height).data;
                
                for (var i = 3, len = imageData.length; i < len; i = i + 4) {
                    imageData[i] = alphaData[i-1];
                }
                
                output.putImageData(image, 0, 0, 0, 0, width, height);

            }
            

            
            video.addEventListener('play', function() {
                clearInterval(interval);
                interval = setInterval(processFrame, 40)
            }, false);
            
            // Firefox doesn't support looping video, so we emulate it this way
            video.addEventListener('ended', function() {
                video.play();
            }, false);
            

        })();
        </script> 

<script>
    // var transparentVideo = seeThru.create('.landing__animation-video')
    //     .play();

</script>

<script>
    $(document).ready(function () {
        //$('.landing__animation-video').get(0).play();
    });

</script>
</body>
</html>
